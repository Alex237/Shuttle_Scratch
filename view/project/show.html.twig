{% extends "project/project.html.twig" %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-9">
            <section class="well">
                <h3>Détail du projet {{ project.name }}</h3>
            </section>
            
            <section class="well">
                <h3>Tickets liés au projet {{ project.name }}</h3>
                {% if tickets %}
                <div class="table-responsive">
                    <table class="table table-hover table-striped">
                        <tr>
                            <th width="20"><input type="checkbox"></th>
                            <th>#</th>
                            <th>Titre</th>
                            <th>Auteur</th>
                            <th>Statut</th>
                            <th>Assigné à</th>
                            <th></th>
                        </tr>
                        {% for ticket in tickets %}
                        <tr>
                            <td><input type="checkbox"></td>
                            <td><a href="{{ domain() }}ticket/{{ ticket.idTicket }}/show">{{ ticket.idTicket }}</a></td>
                            <td><a href="{{ domain() }}ticket/{{ ticket.idTicket }}/show">{{ ticket.title }}</a></td>
                            <td><a href="{{ domain() }}ticket/{{ ticket.idTicket }}/show">{{ ticket.lastname ~ ticket.firstname }}</a></td>
                            <td><a href="{{ domain() }}ticket/{{ ticket.idTicket }}/show">{{ ticket.statusLabel }}</a></td>
                            <td><a href="{{ domain() }}ticket/{{ ticket.idTicket }}/show">{{ ticket.assignedToFirstname ~ ticket.assignedToLastname }}</a></td>
                            <td>
                                <a href="{{ domain() }}ticket/{{ ticket.idTicket }}/show"><i class="fa-eye"></i></a> 
                                <a href="{{ domain() }}ticket/{{ ticket.idTicket }}/edit"><i class="fa-edit"></i></a>
                                <a href="{{ domain() }}ticket/{{ ticket.idTicket }}/delete"><i class="fa-times"></i></a>
                            </td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
                {% else %}
                <div class="alert alert-warning">Aucun ticket n'est lié à ce projet</div>
                {% endif %}
            </section>
        </div>
        <div class="col-md-3">
            <a class="btn btn-lg btn-block btn-primary" href="{{ domain() }}ticket/add/{{ project.idProject }}">Ouvrir un Ticket</a>
            <a class="btn btn-lg btn-block btn-warning" href="{{ domain() }}project/{{ project.idProject }}/edit">Modifier</a>
            <a class="btn btn-lg btn-block btn-danger" href="{{ domain() }}project/{{ project.idProject }}/delete">Supprimer</a>
        </div>
    </div>
</div>
{% endblock %}